import{c as k,j as e,r as n}from"./chunks/client-CTQ0Ju4c.js";function L(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open(chrome.runtime.getURL("options.html"))}const B=()=>{const[h,w]=n.useState(5),[o,l]=n.useState(!1),[r,a]=n.useState(null),[p,x]=n.useState([]),[u,g]=n.useState(!0),[i,d]=n.useState("gpt-4o-mini");n.useEffect(()=>{chrome.storage.local.get(["botLog","openaiApiKey","selectedModel"],t=>{x(t.botLog||[]),g(!!t.openaiApiKey),d(t.selectedModel||"gpt-4o-mini")});const s=(t,c)=>{c==="local"&&(t.botLog&&x(t.botLog.newValue||[]),t.openaiApiKey&&g(!!t.openaiApiKey.newValue),t.selectedModel&&d(t.selectedModel.newValue||"gpt-4o-mini"))};return chrome.storage.onChanged.addListener(s),()=>chrome.storage.onChanged.removeListener(s)},[]);const f=s=>{d(s),chrome.storage.local.set({selectedModel:s})},m=(s,t)=>new Promise((c,v)=>{chrome.tabs.sendMessage(s,t,M=>{chrome.runtime.lastError?v(new Error(chrome.runtime.lastError.message)):c(M)})}),b=async()=>{const t=(await chrome.tabs.query({active:!0,currentWindow:!0}))[0];if(!(t!=null&&t.id))throw new Error("No active tab");return{id:t.id,url:t.url||"unknown"}};async function j(){a(null),l(!0);try{const{id:s,url:t}=await b();if(!t.includes("linkedin.com/messaging")){a("Please navigate to LinkedIn Messaging page first"),l(!1);return}if(await m(s,{type:"PING_TEST"})!=="âœ… Content script active!"){a("Content script not ready. Please refresh the page."),l(!1);return}(await m(s,{type:"START_BOT",n:h+1})).status==="ok"?a("Bot started successfully! ðŸš€"):(a("Failed to start bot"),l(!1))}catch(s){a(s.message||"Error starting bot"),l(!1)}}async function N(){a(null);try{const{id:s}=await b();(await m(s,{type:"STOP_BOT"})).status==="stopped"?(a("Bot stopped"),l(!1)):a("Failed to stop bot")}catch(s){a(s.message||"Error stopping bot")}}const y=[{id:"gpt-4o-mini",name:"GPT-4o Mini",cost:"$0.15/1M",recommended:!0},{id:"gpt-4o",name:"GPT-4o",cost:"$2.50/1M",recommended:!1},{id:"gpt-4-turbo",name:"GPT-4 Turbo",cost:"$10/1M",recommended:!1}];return e.jsxs("div",{className:"bg-base-100 min-h-screen",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary p-4 text-primary-content",children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"LinkedIn AI Responder"]}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"Automate your LinkedIn replies"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[!u&&e.jsxs("div",{className:"alert alert-warning shadow-lg",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"Setup Required!"}),e.jsx("div",{className:"text-xs",children:"Please add your OpenAI API key in settings"})]})]}),e.jsx("div",{className:"flex justify-center",children:o?e.jsxs("div",{className:"badge badge-success badge-lg gap-2",children:[e.jsx("span",{className:"loading loading-spinner loading-xs"}),"Bot Running"]}):e.jsx("div",{className:"badge badge-ghost badge-lg",children:"Bot Idle"})}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-semibold",children:"AI Model"}),e.jsx("span",{className:"label-text-alt text-xs",children:"Cost per 1M tokens"})]}),e.jsx("select",{value:i,onChange:s=>f(s.target.value),className:"select select-bordered w-full",disabled:o,children:y.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.cost," ",s.recommended?"â­ Recommended":""]},s.id))}),e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text-alt text-xs",children:[i==="gpt-4o-mini"&&"Best balance of cost & quality",i==="gpt-4o"&&"Higher quality, 17x more expensive",i==="gpt-4-turbo"&&"Highest quality, 67x more expensive"]})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Number of Chats to Process"})}),e.jsx("input",{type:"number",value:h,min:1,max:50,onChange:s=>w(Number(s.target.value)),className:"input input-bordered w-full",disabled:o}),e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt",children:"Recommended: 5-10 chats"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"btn btn-primary flex-1",onClick:j,disabled:o||!u,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Start Bot"]}),e.jsxs("button",{className:"btn btn-error flex-1",onClick:N,disabled:!o,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Stop Bot"]})]}),e.jsxs("button",{className:"btn btn-outline btn-block",onClick:L,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Settings & Configuration"]}),r&&e.jsxs("div",{className:`alert ${r.includes("success")||r.includes("ðŸš€")?"alert-success":"alert-error"} shadow-lg`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current flex-shrink-0 w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm",children:r})]}),e.jsx("div",{className:"card bg-base-200 shadow-sm",children:e.jsxs("div",{className:"card-body p-3",children:[e.jsx("h3",{className:"card-title text-sm",children:"Recent Activity"}),e.jsx("div",{className:"max-h-32 overflow-y-auto text-xs space-y-1",children:p.length===0?e.jsx("p",{className:"text-base-content/60 italic",children:"No activity yet"}):p.slice(0,5).map((s,t)=>e.jsxs("div",{className:"flex gap-2 items-start",children:[e.jsx("span",{className:"text-base-content/60 whitespace-nowrap",children:new Date(s.time).toLocaleTimeString()}),e.jsx("span",{className:"badge badge-xs badge-ghost",children:s.type})]},t))})]})})]})]})},C=k(document.getElementById("popup-root"));C.render(e.jsx(B,{}));
