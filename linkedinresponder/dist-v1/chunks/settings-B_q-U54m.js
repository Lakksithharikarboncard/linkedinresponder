const t={openaiApiKey:"openaiApiKey",groqApiKey:"groqApiKey",groqApiKey2:"groqApiKey2",routewayApiKey:"routewayApiKey",webhookUrl:"webhookUrl",replyPrompt:"replyPrompt",leadPrompt:"leadPrompt",chatMinDelay:"chatMinDelay",chatMaxDelay:"chatMaxDelay",loopMinDelay:"loopMinDelay",loopMaxDelay:"loopMaxDelay",startHour:"startHour",endHour:"endHour",replyProvider:"replyProvider",leadDetectionProvider:"leadDetectionProvider",groqModel:"groqModel",openaiModel:"openaiModel",routewayModel:"routewayModel"},r={openaiApiKey:"",groqApiKey:"",groqApiKey2:"",routewayApiKey:"",webhookUrl:"",replyPrompt:`You are {user_name}'s assistant. Reply to this lead based on context:
{extracted_text}
Reply briefly and professionally.`,leadPrompt:"Does this conversation indicate strong buying intent or interest? Reply YES or NO.",chatMinDelay:2e3,chatMaxDelay:5e3,loopMinDelay:1e4,loopMaxDelay:3e4,startHour:9,endHour:18,replyProvider:"routeway",leadDetectionProvider:"routeway",groqModel:"openai/gpt-oss-120b",openaiModel:"gpt-5.1",routewayModel:"devstral-2512:free"},h=["openai","groq","routeway"],A=["openai/gpt-oss-20b","openai/gpt-oss-120b","llama-3.3-70b-versatile","llama-3.1-8b-instant","moonshotai/kimi-k2-instruct-0905"],P=["gpt-5.1","gpt-5","gpt-5-mini","gpt-5-nano","gpt-5.1-chat-latest"],K=["devstral-2512:free","kimi-k2-0905:free","minimax-m2:free","deepseek-r1t2-chimera:free"];function d(e,o,i,a){const n=typeof e=="number"?e:Number(e);if(!Number.isFinite(n))return a;const l=Math.round(n);return Math.min(i,Math.max(o,l))}function p(e,o,i,a){const n=typeof e=="number"?e:Number(e);return Number.isFinite(n)?Math.min(i,Math.max(o,Math.floor(n))):a}function y(e,o){return typeof e!="string"?o:e}function s(e,o){return typeof e=="string"&&h.includes(e)?e:o}function x(e,o){return typeof e=="string"&&A.includes(e)?e:o}function q(e,o){return typeof e=="string"&&P.includes(e)?e:o}function v(e,o){return typeof e=="string"&&K.includes(e)?e:o}function b(e){return e.trim()}async function S(){return new Promise(e=>{chrome.storage.local.get(Object.values(t),o=>{const i=p(o[t.chatMinDelay],250,6e4,r.chatMinDelay),a=p(o[t.chatMaxDelay],250,12e4,r.chatMaxDelay),n=p(o[t.loopMinDelay],500,6e5,r.loopMinDelay),l=p(o[t.loopMaxDelay],500,6e5,r.loopMaxDelay),M=Math.min(i,a),c=Math.max(i,a),u=Math.min(n,l),g=Math.max(n,l),D=d(o[t.startHour],0,23,r.startHour),m=d(o[t.endHour],0,23,r.endHour),f={openaiApiKey:y(o[t.openaiApiKey],r.openaiApiKey).trim(),groqApiKey:y(o[t.groqApiKey],r.groqApiKey).trim(),groqApiKey2:y(o[t.groqApiKey2],r.groqApiKey2).trim(),routewayApiKey:y(o[t.routewayApiKey],r.routewayApiKey).trim(),webhookUrl:b(y(o[t.webhookUrl],r.webhookUrl)),replyPrompt:y(o[t.replyPrompt],r.replyPrompt),leadPrompt:y(o[t.leadPrompt],r.leadPrompt),chatMinDelay:M,chatMaxDelay:c,loopMinDelay:u,loopMaxDelay:g,startHour:D,endHour:m,replyProvider:s(o[t.replyProvider],r.replyProvider),leadDetectionProvider:s(o[t.leadDetectionProvider],r.leadDetectionProvider),groqModel:x(o[t.groqModel],r.groqModel),openaiModel:q(o[t.openaiModel],r.openaiModel),routewayModel:v(o[t.routewayModel],r.routewayModel)};e(f)})})}async function H(e){const o={};return e.openaiApiKey!==void 0&&(o[t.openaiApiKey]=String(e.openaiApiKey)),e.groqApiKey!==void 0&&(o[t.groqApiKey]=String(e.groqApiKey)),e.groqApiKey2!==void 0&&(o[t.groqApiKey2]=String(e.groqApiKey2)),e.routewayApiKey!==void 0&&(o[t.routewayApiKey]=String(e.routewayApiKey)),e.webhookUrl!==void 0&&(o[t.webhookUrl]=String(e.webhookUrl)),e.replyPrompt!==void 0&&(o[t.replyPrompt]=String(e.replyPrompt)),e.leadPrompt!==void 0&&(o[t.leadPrompt]=String(e.leadPrompt)),e.chatMinDelay!==void 0&&(o[t.chatMinDelay]=e.chatMinDelay),e.chatMaxDelay!==void 0&&(o[t.chatMaxDelay]=e.chatMaxDelay),e.loopMinDelay!==void 0&&(o[t.loopMinDelay]=e.loopMinDelay),e.loopMaxDelay!==void 0&&(o[t.loopMaxDelay]=e.loopMaxDelay),e.startHour!==void 0&&(o[t.startHour]=e.startHour),e.endHour!==void 0&&(o[t.endHour]=e.endHour),e.replyProvider!==void 0&&(o[t.replyProvider]=e.replyProvider),e.leadDetectionProvider!==void 0&&(o[t.leadDetectionProvider]=e.leadDetectionProvider),e.groqModel!==void 0&&(o[t.groqModel]=e.groqModel),e.openaiModel!==void 0&&(o[t.openaiModel]=e.openaiModel),e.routewayModel!==void 0&&(o[t.routewayModel]=e.routewayModel),new Promise(i=>{chrome.storage.local.set(o,()=>i())})}export{r as D,S as g,H as s};
