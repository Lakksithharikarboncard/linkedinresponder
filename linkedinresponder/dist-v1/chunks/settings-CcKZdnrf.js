const t={openaiApiKey:"openaiApiKey",groqApiKey:"groqApiKey",resendApiKey:"resendApiKey",replyPrompt:"replyPrompt",leadPrompt:"leadPrompt",targetEmail:"targetEmail",chatMinDelay:"chatMinDelay",chatMaxDelay:"chatMaxDelay",loopMinDelay:"loopMinDelay",loopMaxDelay:"loopMaxDelay",startHour:"startHour",endHour:"endHour"},n={openaiApiKey:"",groqApiKey:"",resendApiKey:"",replyPrompt:`You are {user_name}'s assistant. Reply to this lead based on context:
{extracted_text}
Reply briefly and professionally.`,leadPrompt:"Does this conversation indicate strong buying intent or interest? Reply YES or NO.",targetEmail:"",chatMinDelay:2e3,chatMaxDelay:5e3,loopMinDelay:1e4,loopMaxDelay:3e4,startHour:9,endHour:18};function p(e,o,i,r){const a=typeof e=="number"?e:Number(e);if(!Number.isFinite(a))return r;const l=Math.round(a);return Math.min(i,Math.max(o,l))}function s(e,o,i,r){const a=typeof e=="number"?e:Number(e);return Number.isFinite(a)?Math.min(i,Math.max(o,Math.floor(a))):r}function y(e,o){return typeof e!="string"?o:e}function g(e){return e.trim()}async function f(){return new Promise(e=>{chrome.storage.local.get(Object.values(t),o=>{const i=s(o[t.chatMinDelay],250,6e4,n.chatMinDelay),r=s(o[t.chatMaxDelay],250,12e4,n.chatMaxDelay),a=s(o[t.loopMinDelay],500,6e5,n.loopMinDelay),l=s(o[t.loopMaxDelay],500,6e5,n.loopMaxDelay),c=Math.min(i,r),m=Math.max(i,r),M=Math.min(a,l),d=Math.max(a,l),D=p(o[t.startHour],0,23,n.startHour),u=p(o[t.endHour],0,23,n.endHour),h={openaiApiKey:y(o[t.openaiApiKey],n.openaiApiKey).trim(),groqApiKey:y(o[t.groqApiKey],n.groqApiKey).trim(),resendApiKey:y(o[t.resendApiKey],n.resendApiKey).trim(),replyPrompt:y(o[t.replyPrompt],n.replyPrompt),leadPrompt:y(o[t.leadPrompt],n.leadPrompt),targetEmail:g(y(o[t.targetEmail],n.targetEmail)),chatMinDelay:c,chatMaxDelay:m,loopMinDelay:M,loopMaxDelay:d,startHour:D,endHour:u};e(h)})})}async function x(e){const o={};return e.openaiApiKey!==void 0&&(o[t.openaiApiKey]=String(e.openaiApiKey)),e.groqApiKey!==void 0&&(o[t.groqApiKey]=String(e.groqApiKey)),e.resendApiKey!==void 0&&(o[t.resendApiKey]=String(e.resendApiKey)),e.replyPrompt!==void 0&&(o[t.replyPrompt]=String(e.replyPrompt)),e.leadPrompt!==void 0&&(o[t.leadPrompt]=String(e.leadPrompt)),e.targetEmail!==void 0&&(o[t.targetEmail]=String(e.targetEmail)),e.chatMinDelay!==void 0&&(o[t.chatMinDelay]=e.chatMinDelay),e.chatMaxDelay!==void 0&&(o[t.chatMaxDelay]=e.chatMaxDelay),e.loopMinDelay!==void 0&&(o[t.loopMinDelay]=e.loopMinDelay),e.loopMaxDelay!==void 0&&(o[t.loopMaxDelay]=e.loopMaxDelay),e.startHour!==void 0&&(o[t.startHour]=e.startHour),e.endHour!==void 0&&(o[t.endHour]=e.endHour),new Promise(i=>{chrome.storage.local.set(o,()=>i())})}export{n as D,f as g,x as s};
